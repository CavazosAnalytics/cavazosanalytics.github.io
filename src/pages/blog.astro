---
import BaseLayout from "../layouts/BaseLayout.astro";
import Header from "../components/Header.astro";
import Footer from "../components/Footer.astro";
const posts = await Astro.glob('../content/blog/*.md');
---
<BaseLayout title="Blog â€” Cavazos Analytics" description="Insights, case studies, and research notes.">
  <Fragment slot="header"><Header /></Fragment>
  <section class="py-12 grid md:grid-cols-2 gap-8">
    {posts.sort((a,b)=> new Date(b.frontmatter.date) - new Date(a.frontmatter.date)).map(({url, frontmatter}) => (
      <a href={url} class="block p-6 rounded-2xl bg-[var(--panel)] hover:opacity-95">
        <h3 class="text-xl font-semibold">{frontmatter.title}</h3>
        <p class="text-sm text-[var(--muted)] mt-1">{frontmatter.date}</p>
        <p class="mt-3 text-[var(--muted)]">{frontmatter.description}</p>
      </a>
    ))}
  </section>
  <Fragment slot="footer"><Footer /></Fragment>
</BaseLayout>
